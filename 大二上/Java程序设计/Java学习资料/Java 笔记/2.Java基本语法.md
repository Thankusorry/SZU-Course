# 一、运算符

### 1.算术运算符

#### 注意：优先级

![java优先级](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/undefined202410041610093.png)

尽可能用括号，表达更清楚。

#### 精度问题

Java将按运算符两边的操作元的**最高**精度保留结果的精度

<font color='red'> <font color >就高不就低，就长不就短</font></font>

#### 字符的+操作

e.g. char型数据与整型数据运算的结果的精度是int

`char ch=(char)(‘H’+k);`

#### 涉及字符串的 ‘+’

* 当+操作中出现字符串时，**此时就是字符串的连接符**，会将前后的数据进行拼接，并产生一个新的字符串。(<font color='CornflowerBlue'>**不管前后是什么，都变成字符串类型**</font>)
* 当连续进行+操作时，<font color='red'>**从左到右**</font>逐个执行的。

Example：

```java
1 + "abc" + 1 // "1abc1"
1 + 2 + "abc" + 2 + 1 // "3abc21"
```

应用到变量输出

```java
System.out.println("我的名字是" + name);
```

### 2.扩展赋值运算符

+=、-=、*=、/=、%=

**扩展的赋值运算符中隐层还包含了一个强制转换。**

<font color='red'>**byte short 计算隐式转换为int ，又隐含了强制转换为原类型。**</font>

a += b ;实际上相当于 a = (byte)(a + b);

```java
public class OperatorDemo8 {
    public static void main(String[] args) {
        byte a = 10;
        byte b = 20;
        //a += b;
        a = (byte)(a + b);
        System.out.println(a);//30
    }
}
```



### 3.逻辑运算符

<font color='red'>**结果为boolean类型(结果是true / false)**</font>

逻辑“非”

符号：!，单目运算符

运算级别：2级

结合性：`从右到左`

`!!X 相当于!(!X)`

##### <font color='red'>**特殊：**</font>&& or & 

&& 和 || 是短路逻辑运算符，第一个不符合条件就不再看第二个

& 和 | 既是逻辑运算符，也是位运算符，两边都会判断

`&& 和 & 、||和|的运行结果都是一模一样的。`

`但是短路逻辑运算符可以提高程序的运行效率。`



### 4.移位运算符

二进制位进行操作，分为左移位操作和右移位操作

#### 1）左移位运算符 /2

符号：<<，双目运算符
左面的操作元：被移位数
右面的操作元：移位量，操作元必须是整型类型的数据

效果（a<<n）
将a的所有位都左移n位，每左移一个位，左边的高阶位上的0或1被移出丢弃，并用0填充右边的低位
**不断左移位的结果是0**

##### 注意：

对于byte或short型数据，a<<n的运算结果是int型精度

当进行a<<2运算时，系统**首先将a升级为int型数据**，对于正数，在高位用0填充；负数用1填充，然后再进行移位运算`【扩展符号位】`
`例子：byte a=-8; byte b=(byte)(a<<1);`
`1111 1000`
`1111 1111 1111 1111 1111 1111 1111 1000`
`1111 1111 1111 1111 1111 1111 1111 0000`
`1111 0000`
在进行a<<n运算时
如果a是byte、short或int型数据，系统总是先计算出n%32的结果m，然后再进行a<<m运算
如果a是long型数据，系统总是先计算出n%64的结果m，然后再进行a<<m运算

#### 2）右移位运算符*2 

`a>>n：`
将a的所有位都右移n位，每右移一个位，右边的低阶位被移出丢弃，并用0或1填充左边的高位，a是正数时用0填充，负数时用1填充
**正数不断右移位的结果是0，负数不断右移位的结果是-1**



### 5.位运算符

如果b的精度高于a，那么结果c的精度和b的精度相同 `“就高不就低”`

**效果：对一个整型数据a按位进行运算，运算结果是一个整型数据c**

#### (1) “按位与”运算符

##### 符号：&，双目运算符

运算法则：
**如果a, b两个数据对应位都是1，则c的该位是1，否则是0**

#### (2) “按位或”运算符

##### 符号：|，双目运算符

运算法则：
**如果a, b两个数据对应位都是0，则c的该位是0，否则是1**

#### (3) “按位非”运算符

#### 符号：<font color='red'>~</font>，单目运算符

运算法则：如果a对应位是0，则c的该位是1，否则是0



#### (4) “按位异或”运算符

##### 符号：<font color='red'>^</font>，双目运算符

运算法则：
如果a, b两个数据对应位相同，则c的该位是0，否则是1
如果b的精度高于a，那么结果c的精度和b的精度相同

`a^0=a, a^1=~a`
`a^a=0`
`a^b=a`



### 6.instanceof 运算符

双目运算符
左面的操作元是一个对象，右面是一个类
**当左面的对象是右面的类创建的对象时，该运算的结果是true，否则是false**

`boolean f = rectangleOne instanceof Rect;`



# 总结：

### 5类语句

##### (1) 方法调用语句，例如reader.nextInt();，详见第4章

##### (2) 表达式语句，例如x=23;

##### (3) 复合语句，可以用“{”和“}”把一些语句括起来构成复合语句，一个复合语句也称作一个代码块

##### (4) 控制语句，包括条件分支语句（switch, if-else）、循环语句（for, while, do-while）和跳转语句（break, continue, return）

##### (5) package语句和import语句，详见第4章