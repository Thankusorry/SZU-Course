# 图

## 图表示

### 邻接矩阵

邻接1，不邻接0

#### 性质

**<font color='#EE82EE'>无向图</font>**的邻接矩阵是对称的

其第i行1的个数或第i列1的个数，等于顶点i的度

1的个数是边数的两倍

**<font color='#EE82EE'>有向图</font>**

**第i行**1的个数等于顶点i的**出度OD(i)**，**第j列**1的个数等于顶点j的**入度ID(j)**

**1的个数等于边数**



#### <font color='red'>网络</font>

**<font color='red'>如果无向图中，边上有权值，则称该无向图为无向网</font>**

无向网，有向网

两个顶点**如果不邻接**，则被**<font color='red'>视为距离为无穷大</font>**

![image-20250105110236690](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051102752.png)

### 邻接表

**不带权值：**

##### 无向图

![image-20250105110334380](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051103417.png)

##### 有向图

![image-20250105110428255](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051104281.png)

**<font color='red'>带权值</font>**

![image-20250105110523051](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051105083.png)

## 图遍历

### 深度优先搜索(DFS)

1次深搜只能走1个连通分量

### 广度优先搜索(BFS)

同树的层次遍历

### 时间复杂度

**<font color='red'>两者的时间复杂度相同</font>**
取决于**采取的存储结构**，若用**<font color='red'>邻接矩阵为O(n^2),若用邻接表则为O(n+e)</font>**



## 图的连通性

#### <font color='red'>连通分量</font>

非连通图的**极大连通子图**叫做连通分量



## 最小生成树

生成树上的边的**<font color='red'>权值和最小</font>**

### Prim算法

**已加入节点依次选最小**

![image-20250105112537835](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051125876.png)



## Kruskal算法

**边按权值升序排序**

**加入1条边一个图。**

<font color='red'>**邻接表和邻接矩阵复杂度一样**</font>

|                | prim算法                            | 克鲁斯卡尔算法                        |
| -------------- | ----------------------------------- | ------------------------------------- |
| **时间复杂度** | **<font color='red'>O(n2)</font>**  | **<font color='red'>O(eloge)</font>** |
| **适用范围**   | **<font color='red'>稠密图</font>** | **<font color='red'>稀疏图</font>**   |



## 最短路径

**最短路径**与**最小生成树**主要有三点不同：
1.**最短路径的操作对象主要是<font color='red'>有向图</font>(网)**，而**最小生成树**的操作对象是**<font color='red'>无向图</font>**。
2.**最短路径有一个始点**，最小生成树没有
3.最短路径关心的是**始点到每个顶点的路径最短**，而
  最小生成树关心的是**整个树的代价最小**



### 迪杰斯特拉(Dijkstra)

按**路径长度递增**的顺序逐步产生最短路径

**<font color='red'>计算过程：表格，最后要给出结论</font>**

![image-20250105113247427](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051132477.png)



### Floyd算法

`D[i][j] = D[i][k]+D[k][j];
 path[i][j] = path[i][k]+path[k][j];` 注意**<font color='red'>去掉重复顶点k</font>**

![image-20250105113409159](https://liwenjunpictures.oss-cn-shenzhen.aliyuncs.com/202501051134199.png)

### <font color='red'>时间复杂度分析</font>

###### **Dijsktra** 

**时间复杂度为<font color='red'>邻接表 O(n^2+e）邻接矩阵O(n ^2）</font>**

###### Floyd

**<font color='red'>时间复杂度O(n^3)</font>**

## AOV网

**顶点表示活动**的网AOV(**Activity On Vertex Network)**



## 拓扑排序

⑴ 在有向图中**选一个没有前驱的顶点**且输出之
⑵ 从图中**<font color='#EE82EE'>删除该顶点和所有以它为尾的弧</font>**
　 重复⑴⑵两步，直到所有顶点输出为止或跳出循环

**拓扑排序可检测AOV网是否存在环**

#### 拓扑排序时间复杂度分析

**邻接矩阵**存储：**时间复杂度O(n^2)**

**邻接表**存储：时间复杂度O(n+e)



## **关键路径**

**边表示活动的网AOE**(Activity On Edge)

从**工程开始顶点**到**工程结束顶点**之间**<font color='CornflowerBlue'>路径长度最长的路径</font>**叫关键路径

#### 事件最早开始时间计算——点V

ve(j)：事件vj最早开始时间
**<font color='red'>工程起点的ve(0)=0，按拓扑序列向前递推</font>**

`  ve(j)=max{ve(i)+dut(<i,j>)，<i,j> ∈E}`

#### 事件最晚开始时间计算——点V

工程终点的**vl(n-1)=ve(n-1)**，按**<font color='red'>拓扑逆序向后递推</font>**

vl(j)：事件vj最迟开始时间

`  vl(j)=max{vl(i)-dut(<i,j>)，<i,j> ∈E}`

#### 关键活动——边E

**关键路径上的所有活动**称为关键活动

**`e(i)=ve(j)`**

**`l(i)=vl(k)-dut(<j,k>)`**

如果**`l(i)=e(i)`**，则称活动**ai为关键活动**











































# 练习题

【4分】 1. 关于**克鲁斯卡尔算法**说法正确的是（ ） 
A.它是最短路径求解算法之一 **B.它的时间复杂度是O(loge)** C.它适用于边稠密图的求解 **D.它适用于边稀疏图的求解** 

`Kruskal 时间复杂度 是 O(eloge),适合稀疏图`

【4分】 2. 设有无向图G={V, E}和G1={V1, E1}，如果G1是G的生成树，则以下**说法错误**的是（ ） 
A.G1是G的**极小连通子图** B.G1是G的**连通分量** C.G1是G的子图 D.G1是G的无环子图 

**`连通分量是无向图的极大连通子图，而且连通分量中可能存在回路`**

【4分】 3. 若一个图的边集为{<1,2>,<1,4>,<2,5>,<3,1>,<3,5>,<4,3>}，则从顶点1开始对该图进行深度优先搜索，得到的顶点序列可能是()。 
**A.1,2,5,4,3** B.1,2,3,4,5 C.1,2,5,3,4 D.1,4,3,2,5 

【4分】 4. 已知无向图G含有16条边，其中度为4的顶点的个数为3；度为3的顶点的个数为4；其它顶点的度均小于3。图G所含的顶点个数至少是()。 
A.10 **B.11** C.13 D.15 

**`一条边贡献两个度，剩余点度都为2，定点数最少`**

【4分】 5. 下面说法中正确的是()。 1.邻接矩阵适合稠密图 2.邻接表适合稀疏图 3.普利姆算法适合稀疏图 4.克鲁斯卡尔算法适合稠密图 
**A.1和2** B.1和4 C.2和3 D.3和4 

【4分】 6. 若一个有向图的顶点不能排成一个拓扑序列，则判定该有向图()。 
A.含有多个出度为0的顶点 B.是个强连通图 C.含有多个入度为0的顶点 D.含有顶点数大于1的强连通分量

**`强连通分量：在连通分量的基础上，强联通图的极大强联通子图，强联通必定有环`** 

【4分】 7. 关于**<font color='red'>最短路径算法</font>**描述错误的是()。 
**<font color='CornflowerBlue'>A.Dijkstra算法通常用于求从某个顶点出发到其余各顶点的最短路径 </font>**
<font color='CornflowerBlue'>**B.Floyd通常用于求顶点对间的最短路径** </font>
**C.Dijkstra算法不适用于图中带有负权值的边，而Floyd算法适用** 
**`Dijkstra是贪心算法，负权值会出错`**

D.Floyd算法适用于图中有包含负权值组成的回路，而Dijkstra算法不适用 

**`Floyd可以处理带有负权值的边，但无法处理包含负权值组成的回路`**

<font color='red'>**因为可以重复走这个回路，使得路径无穷小**</font>

【4分】 8. 对一个**非连通无向图**G，采用深度优先搜索遍历访问所有顶点，调用**从顶点v出发的深度优先搜索函数的次数**正好等于()。 
A.顶点数 B.边数 **C.连通分量数** D.不确定 

【4分】 9. **判断有向图是否存在回路**，除可以利用拓扑排序外，还可以利用()。 
A.求关键路径的方法 B.广度优先遍历 **C.深度优先遍历** D.求单源点最短路径的Dijkstra算法 

【4分】 10. 对于有n个顶点，e条边的图采用**邻接矩阵**表示时，进行DFS遍历和BFS的时间复杂度均为()。 
**A.O(n^2)** B.O(e) C.O(1) D.O(n+e) 

【4分】 11. 任何一个**无向连通图**的最小生成树()。 
**A.有1棵或多棵** B.只有1棵 C.一定有多棵 D.可能不存在 

【4分】 12. 在**有向图G的拓扑序列**中，若顶点vi在顶点vj之前，则下列情形**不可能出现**的是()。 
A.G中有弧<vi,vj> B.G中有一条从vi到vj的路径 C.G中没有弧<vi,vj> **D.G中有一条从vj到vi的路径** 

【4分】 13. 下列关于图的说法中，正确的是()。 
1.有向图顶点V的度等于其邻接矩阵中第V行中1的个数  **`有向图行表示出度，列表示入度`**
2.无向图的邻接矩阵一定是对称矩阵，有向图的邻接矩阵一定是非对称矩阵 
**3.在图G的最小生成树G1中，某条边的权值可能会超过未选边的权值** 
4.若有向无环图的拓扑序列唯一，则可以唯一确定该图  **`不能，前面点可以都连到后面的点`**
A.1,2,3 B.3,4 C.3 D.4 

【4分】 14. 下面是3个关于有向图操作的叙述，正确的是()。 

1求两个顶点间的最短路径，其结果必定是唯一的。
2求有向图顶点的拓扑排序序列，其结果必定是唯一的。 
3 求AOE网的关键路径，其结果必定是唯一的。 
A.只有1正确 B.1和2正确 C.都正确 **D.都不正确** 

【4分】 16. 已知一个有向图的边集为{<a,b>,<a,c>,<a,d>,<b,d>,<b,e>,<d,e>}，则由该图产生的一种可能的拓扑序列为()。 
**A.a,b,c,d,e** B.a,d,c,e,b C.a,c,b,e,d D.a,c,d,b,e 

【4分】 17. 下列关于AOE网的说法正确的是()。 
A.AOE网的含义是以顶点表示活动的网 **`AOV`**
B.从源点到汇点的最短路径称作关键路径
 C.存在关键路径的AOE网一定是有向无环图 
D.关键路径上某个活动的时间缩短，整个工程的时间也就必定缩短  
**`关键路径不唯一`**

<font color='red'>**存在关键路径的AOE网一定是有向无环图**</font>

图的**深度优先搜索**类似于树的 **先根遍历**，需要用到的**辅助数据结构是   栈**  ；图的**广度优先搜索**类似于树的**后根遍历**，需要用到的辅助数据结构是**队列**。

具有n个顶点的无向图，至少要有 **n-1条边**  **`首尾相连`**才可能是连通图；具有**n个顶点的有向图**，至少要有 **n 边**才可能是强连通图

一个有28条边的**非连通**无向图至少有  顶点

**`拿出一个顶点满足非联通，剩下顶点无向完全图`**